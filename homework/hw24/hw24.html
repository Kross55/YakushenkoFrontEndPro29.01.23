<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body> 

    <script>

        // 24  

        class Humburger {
            totalPrice;
            totalCalories;
            static SIZE_SMALL = "small";
            static SIZE_BIG = 'big';
            static STUFFING_CHEESE = 'cheese';
            static STUFFING_SALAD = 'salad';  
            static STUFFING_POTATO = 'potato';
            static TOPPING_MAYO = 'mayo';
            static TOPPING_SAUCE = 'sauce';
            size;
            stuffing;
            topping = [];

            constructor(size, stuffing) {
                this.size = size;
                this.stuffing = stuffing;
            }

            addTopping(topping) {
                //let index = this.topping.findIndex( item => item === undefined );
                let toppingAdded = this.topping.find( item => item === topping );
                if( topping.length > 2 && toppingAdded ) return;
                this.topping.push(topping) ;
                return this.topping;
            }

            calculatePrice() {
                let size;

                switch(this.size) {
                    case Humburger.SIZE_SMALL:
                        size = 50;
                        break;
                    case Humburger.SIZE_BIG:
                        size = 100;
                        break;
                    default:
                        size = 0;
                }
                
                let stuffing;

                switch(this.stuffing) {
                    case Humburger.STUFFING_CHEESE:
                        stuffing = 10;
                        break;
                    case Humburger.STUFFING_SALAD:
                        stuffing = 20;
                        break;
                    case Humburger.STUFFING_POTATO: 
                        stuffing = 15;
                        break;
                    default:
                        stuffing = 0;
                }

                let topping = 0;

                if( this.topping.find( item => item === 'mayo' ) ) topping += 20; 
                if( this.topping.find( item => item === 'sauce' ) ) topping += 15; 

                this.totalPrice = size + stuffing + topping
                return console.log(`Price: ${this.totalPrice} тугриків`);
            }

            calculate() {
                let size;

                switch(this.size) {
                    case Humburger.SIZE_SMALL:
                        size = 20;
                        break;
                    case Humburger.SIZE_BIG:
                        size = 40;
                        break;
                    default:
                        size = 0;
                }
                
                let stuffing;

                switch(this.stuffing) {
                    case Humburger.STUFFING_CHEESE:
                        stuffing = 20;
                        break;
                    case Humburger.STUFFING_SALAD:
                        stuffing = 5;
                        break;
                    case Humburger.STUFFING_POTATO: 
                        stuffing = 10;
                        break;
                    default:
                        stuffing = 0;
                }

                let topping = 0;

                if( this.topping.find( item => item === this.TOPPING_MAYO ) ) topping += 5; 
                if( this.topping.find( item => item === this.TOPPING_SAUCE ) ) topping += 0; 

                this.totalCalories = size + stuffing + topping
                return console.log(`Calories: ${this.totalCalories} calories`);
            }

        }

        let humburger1 = new Humburger(Humburger.SIZE_SMALL, Humburger.STUFFING_POTATO);
        humburger1.addTopping(Humburger.TOPPING_SAUCE);
        humburger1.addTopping(Humburger.TOPPING_SAUCE);
        
        console.log(humburger1);
        console.log(humburger1.calculatePrice());
        console.log(humburger1.calculate());

        humburger1.addTopping(Humburger.TOPPING_MAYO);
        console.log(humburger1.calculatePrice());

        let humburger2 = new Humburger(Humburger.SIZE_BIG, Humburger.STUFFING_SALAD)
        humburger2.addTopping(Humburger.TOPPING_SAUCE)
        humburger2.addTopping(Humburger.TOPPING_SAUCE)
        console.log(humburger2);
        console.log(humburger2.calculatePrice());
        console.log(humburger2.calculate());
        
    </script>
</body>
</html>
